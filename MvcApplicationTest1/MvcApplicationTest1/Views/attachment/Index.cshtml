@model IEnumerable<MvcApplicationTest1.DAL.attachment>

@{
    ViewBag.Title = "Index";
}

@foreach (var item in Model) { 
<span class="badge badge-pill badge-secondary" style="color:white">@Html.ActionLink(Html.DisplayFor(modelItem => item.Name).ToHtmlString(), "download", "attachment", new { attachName = item.attachmentdest, pid = ViewBag.pid }, null)
    
    @if (User.IsInRole("developer") )
{ 
    <a href="@Url.Action("edit","attachment",new { id = item.id})">
        <img class="icon" src="\Content\edit.png" width="16" height="16" />
    </a>
    <a href="@Url.Action("Delete", "attachment", new { id = item.id })">
        <img class="icon" src="\Content\delete.png" width="16" height="16" />
    </a>
}
    
    </span>

}
<br />
<br />
@if (User.IsInRole("developer") ||User.IsInRole("projectowner") )
                {
<button type="button" class="btn btn-secondary btn-sm" style="color:white">
    @Html.ActionLink("ADD Attachment", "Create", new { pid = ViewBag.pid, isid = ViewBag.isid })
</button>
}
    @*<table>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.attachmentdest)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.issue.keyname)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.project.projectkey)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.ActionLink(Html.DisplayFor(modelItem => item.attachmentdest).ToHtmlString(), "download", "attachment", new { attachName = item.attachmentdest }, null)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.issue.keyname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.project.projectkey)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.id }) |
                    @Html.ActionLink("Details", "Details", new { id = item.id }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.id })
                </td>
            </tr>
        }

    </table>*@
